<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<script type="text/javascript">
		const choices = ['rock', 'paper', 'scissors'];
		let playerScore = 0;
		let computerScore = 0;
		let roundCounter = 1;
		let message = "";

		function computerPlay() {
			return choices[Math.floor(Math.random() * choices.length)];
		}

		let playerSelection = prompt('Choose rock, paper or scissors.').toLowerCase();
		let computerSelection = computerPlay();

		message += "ROUND #" + roundCounter + ".";

		function playRound(playerSelection, computerSelection) {
			if (playerSelection === computerSelection) {
				message += " It's a tie! Play again.";
				return message;
			} else if (playerSelection === 'rock' && computerSelection === 'scissors') {
				playerScore += 1;
				message += ' You win! Rock crushes scissors.';
				return message;
			} else if (playerSelection === 'rock' && computerSelection === 'paper') {
				computerScore += 1;
				message += ' You lose! Paper covers rock.';
				return message;
			} else if (playerSelection === 'scissors' && computerSelection === 'rock') {
				computerScore += 1;
				message += ' You lose! Rock crushes scissors.';
				return message;
			} else if (playerSelection === 'scissors' && computerSelection === 'paper') {
				playerScore += 1;
				message += ' You win! Scissors cut paper.';
				return message;
			} else if (playerSelection === 'paper' && computerSelection === 'rock') {
				playerScore += 1;
				message += ' You win! Paper covers rock.';
				return message;
			} else {
				computerScore += 1;
				message += ' You lose! Scissors cut paper.';
				return message;
			}
		}

		function game() {
			console.log(playRound(playerSelection, computerSelection));

			do {
				roundCounter += 1;
				playerSelection = prompt('Pick rock, paper or scissors.').toLowerCase();
				computerSelection = computerPlay();
				message = "ROUND #" + roundCounter + ".";
				console.log(playRound(playerSelection, computerSelection));
			} while (roundCounter < 5);

			if (playerScore > computerScore) {
				message = "Congratulations! You're the winner.";
			} else {
				message = "Sorry! You've lost.";
			}

			message += " Your score is " + playerScore + " and computer's score is " + computerScore + ".";
			return message;
		}
		
		console.log(game());
		
	</script>
</body>
</html>