<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<script type="text/javascript">
		const choices = ['rock', 'paper', 'scissors'];
		let playerScore = 0;
		let computerScore = 0;
		let winner = "";
		let roundCounter = 1;

		function computerPlay() {
			return choices[Math.floor(Math.random() * choices.length)];
		}

		let playerSelection = prompt('Pick rock, paper or scissors.').toLowerCase();
		console.log("Round #" + roundCounter);
		console.log("Player's selection: " + playerSelection + ".");

		let computerSelection = computerPlay();
		
		console.log("Computer's selection: " + computerSelection + ".");

		function playRound(playerSelection, computerSelection) {
			if (playerSelection === computerSelection) {
				return "It's a tie! Play again.";
			} else if (playerSelection === 'rock' && computerSelection === 'scissors') {
				playerScore += 1;
				return 'You win! Rock crushes scissors.';
			} else if (playerSelection === 'rock' && computerSelection === 'paper') {
				computerScore += 1;
				return 'You lose! Paper covers rock.';
			} else if (playerSelection === 'scissors' && computerSelection === 'rock') {
				computerScore += 1;
				return 'You lose! Rock crushes scissors.';
			} else if (playerSelection === 'scissors' && computerSelection === 'paper') {
				playerScore += 1;
				return 'You win! Scissors cut paper.';
			} else if (playerSelection === 'paper' && computerSelection === 'rock') {
				playerScore += 1;
				return 'You win! Paper covers rock.';
			} else {
				computerScore += 1;
				return 'You lose! Scissors cut paper.';
			}
		}

		function game() {
			console.log(playRound(playerSelection, computerSelection));

			do {
				roundCounter += 1;
				playerSelection = prompt('Pick rock, paper or scissors.').toLowerCase();
				console.log("Round #" + roundCounter);
				console.log("Player's selection: " + playerSelection + ".");

				computerSelection = computerPlay();
				console.log("Computer's selection: " + computerSelection + ".");

				console.log(playRound(playerSelection, computerSelection));

			} while (roundCounter < 5);

			if (computerScore > playerScore) {
				winner = "computer";
			} else {
				winner = "player";
			}

			let result = "Winner is " + winner + ". Your score is " + playerScore + " and computer's score is " + computerScore + ".";
			return result;
		}
		
		console.log(game());
		
	</script>
</body>
</html>